{
    "file": {
	"path": "$DATA_DIR/1000genomes/",
	"preprocess_directory": "$DATA_DIR/1000genomes/frequencies"
    },
    "foreach": [
	{
	    "EAS" : {
		"file": "@file.preprocess_directory+/preprocess_1000GenomesFreq_EAS.txt",
		"sourceId": "@external_database.accession+_FREQ_EAS",
		"name": "1000 Genomes Frequencies: EAS",
		"characteristics": {
		    "population":"value:EAS|East Asian"
		}
	    } 
	},
	{
	    "SAS": {
		"file": "@file.preprocess_directory+/preprocess_1000GenomesFreq_SAS.txt",
		"sourceId": "@external_database.accession+_FREQ_SAS",
		"name": "1000 Genomes Frequencies: SAS",
		"characteristics": {
		    "population":"value:SAS|South Asian"
		}
	    }
	},
	{
	    "EUR": {
		"file": "@file.preprocess_directory+/preprocess_1000GenomesFreq_EUR.txt",
		"sourceId": "@external_database.accession+_FREQ_EUR",
		"name": "1000 Genomes Frequencies: EUR",
		"characteristics": {
		    "population":"value:EUR|European"
		}
	    }
	},
	{
	    "AFR": {
		"file": "@file.preprocess_directory+/preprocess_1000GenomesFreq_AFR.txt",
		"sourceId": "@external_database.accession+_FREQ_AFR",
		"name": "1000 Genomes Frequencies: AFR",
		"characteristics": {
		    "population":"value:AFR|African/African American"
		}
	    }
	},
	{
	    "AMR": {
		"file": "@file.preprocess_directory+/preprocess_1000GenomesFreq_AMR.txt",
		"sourceId": "@external_database.accession+_FREQ_AMR",
		"name": "1000 Genomes Frequencies: AMR",
		"characteristics": {
		    "population":"value:AMR|Ad Mixed American"
		}
	    }
	},
	{
	    "GLOBAL": {
		"file": "@file.preprocess_directory+/preprocess_1000GenomesFreq_GAF.txt",
		"sourceId": "@external_database.accession+_FREQ_GAF",
		"name": "1000 Genomes Frequencies: GAF",
		"characteristics": {
		    "population": "value:GAF|Global|global allele frequency calculated as the allele count (AC) divided by the chromosome count (AN) across the 1000 Genomes super populations"
		}
	    }
	}
    ],
    "external_database": {
	"name": "1000 Genomes",
	"version": "Phase 3",
	"release_date": "05-02-2013",
	"download_url": "ftp://ftp.1000genomes.ebi.ac.uk/vol1/ftp/release/20130502",
	"id_url": "http://www.internationalgenome.org",
	"description": "The 1000 Genomes Project ran between 2008 and 2015, creating the largest public catalogue of human variation and genotype data. The goal of the 1000 Genomes Project was to find most genetic variants with frequencies of at least 1% in the populations studied.",
	"accession": "1000Genomes",
	"type": "Genetic variation"
    },
 
    "preprocess": [
	{
	    "script": {
		"name": "generate1000GenomesFreqLoadFile",
		"parameters": {
		    "inputDir": "@file.path",
		    "outputDir": "@file.preprocess_directory",
		    "populations": "EUR,EAS,SAS,AMR,AFR,GAF"
		}
	    }
	}

    ],

    "load" : [
	{
	    "foreach" : true,
	    "plugin": {
		"name": "GenomicsDBData::Load::Plugin::InsertProtocolAppNode",
		"parameters" : {
		    "type": "Genetic variation",
		    "subtype": "allele frequency",
		    "description": "Frequency of alleles in a 1000 Genomes Phase 3 superpopulation.",
		    "extDbRlsSpec": "@external_database.name|@external_database.version",
		    "characteristics": "foreach",
		    "sourceId" : "foreach",
		    "name": "foreach"
		}
	    }
	}, 
	{
	    "foreach": true,
	    "plugin": {
		"name": "GenomicsDBData::Load::Plugin::InsertVariantFrequencyResult",
		"parameters": {
		    "file": "foreach",
		    "sourceId": "foreach"
		}
	    }
	}
    ]
}
